(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,a,t){e.exports=t(299)},141:function(e,a,t){},298:function(e,a,t){},299:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),i=t.n(c),o=(t(141),t(37)),l=t(29),s=t(23),u=t.n(s),m=t(38),p=t(41),d=t(22),f=t(127),E=t.n(f),g=t(124),b=t.n(g),h=t(125),v=t.n(h),w=t(28),O=t.n(w),j=t(46),y=t.n(j),x=t(126),k=t.n(x),L=t(80),S=t.n(L),C=t(122),N=t.n(C),P=t(120),R=t.n(P),B=t(5),U=t.n(B);var W=function(){localStorage.removeItem("isAuthenticated")},I=Object(n.createContext)({openMenu:null});function D(e){var a=e.classes,t=e.children,c=e.history,i=Object(n.useState)(!1),o=Object(p.a)(i,2),l=o[0],s=o[1];return r.a.createElement(I.Provider,{value:{openMenu:function(){s(!0)}}},r.a.createElement(R.a,{open:l,onClose:function(){return s(!1)}},r.a.createElement(S.a,{className:a.list},r.a.createElement(N.a,{button:!0,onClick:function(){W(),c.replace({pathname:"/login"})}},"Logout"))),t)}D.defaultProps={open:!1};var T=Object(l.f)(U()({list:{width:"250px"}})(D));function A(e){var a=e.classes,t=e.title,c=Object(n.useContext)(I).openMenu;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{position:"static"},r.a.createElement(v.a,null,r.a.createElement(y.a,{className:a.menuButton,color:"inherit","aria-label":"Menu",onClick:c},r.a.createElement(k.a,null)),r.a.createElement(O.a,{variant:"h6",color:"inherit",className:a.title},t))),r.a.createElement(T,null))}A.defaultProps={title:"Logistics Risks Calculator"};var F=Object(d.withStyles)(function(e){return{title:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},buttonIconLeft:{marginRight:e.spacing.unit}}})(A);var M=Object(d.withStyles)({root:{display:"flex",flexFlow:"column nowrap",flexGrow:1,height:"100%"}})(function(e){var a=e.classes,t=e.children;return r.a.createElement("div",{className:a.root},t)});function q(e){var a=e.appBar,t=e.classes,n=e.children,c=e.isLoading;return r.a.createElement(M,null,a,r.a.createElement("div",{className:t.gridContainer},c?r.a.createElement(E.a,{className:t.progress}):n))}q.defaultProps={appBar:r.a.createElement(F,null),isLoading:!1};var G=Object(d.withStyles)({gridContainer:{display:"flex",flexGrow:1,maxHeight:"100%",overflow:"auto"},progress:{alignSelf:"center",margin:"auto"}})(q),z=t(128),J=t.n(z),V=t(130),H=t.n(V),X=t(25),$=t.n(X),K=t(129),Q=t.n(K),Y=t(82),Z=t.n(Y),_=t(83),ee=t.n(_),ae=t(133),te=t.n(ae),ne=t(45),re=t.n(ne),ce=t(132),ie=t.n(ce),oe=t(134),le=t.n(oe),se=t(131),ue=t.n(se),me=t(2),pe=t.n(me);pe.a.shape({id:pe.a.number.isRequired,name:pe.a.string.isRequired,lastUpdated:pe.a.instanceOf(Date)});function de(e){var a=e.classes,t=e.companies;return r.a.createElement(re.a,{className:a.root},r.a.createElement(J.a,{className:a.table},r.a.createElement(Q.a,null,r.a.createElement(Z.a,null,r.a.createElement($.a,null,"Company name"),r.a.createElement($.a,{align:"center"},"Risk"),r.a.createElement($.a,{align:"center"},"Last updated"),r.a.createElement($.a,null))),r.a.createElement(H.a,null,t.map(function(e){return r.a.createElement(Z.a,{key:e.id},r.a.createElement($.a,{component:"th",scope:"row"},e.name),r.a.createElement($.a,{align:"center"},e.risk,"%"),r.a.createElement($.a,{align:"center"},e.lastUpdated.toLocaleString()),r.a.createElement($.a,{align:"right"},r.a.createElement(ee.a,{title:"Recalculate"},r.a.createElement(o.b,{to:"/company/".concat(e.id)},r.a.createElement(y.a,{"aria-label":"Recalculate"},r.a.createElement(ue.a,{fontSize:"small"})))),r.a.createElement(ee.a,{title:"Recalculate"},r.a.createElement(y.a,{"aria-label":"Recalculate"},r.a.createElement(ie.a,{fontSize:"small"})))))}))),r.a.createElement(te.a,{className:a.fab,color:"primary"},r.a.createElement(le.a,null)))}de.defaultProps={companies:[]};var fe=Object(d.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},table:{minWidth:700},fab:{position:"absolute",bottom:4*e.spacing.unit,right:4*e.spacing.unit}}})(de),Ee=[{id:1,name:"Company #1",risk:98,lastUpdated:new Date},{id:2,name:"Company #2",risk:45,lastUpdated:new Date},{id:3,name:"Company #3",risk:9,lastUpdated:new Date},{id:4,name:"Company #4",risk:12,lastUpdated:new Date},{id:5,name:"Company #5",risk:69,lastUpdated:new Date}];var ge=function(){var e=Object(n.useState)({companies:[],isLoading:!1,risks:[]}),a=Object(p.a)(e,2),t=a[0],c=a[1],i=function(){var e=Object(m.a)(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({isLoading:!0}),e.next=3,new Promise(function(e){setTimeout(function(){e(Ee)},3e3)});case 3:a=e.sent,c({companies:a,isLoading:!1});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){i()},[]),r.a.createElement(T,null,r.a.createElement(G,{isLoading:t.isLoading},r.a.createElement(fe,{companies:t.companies})))},be=t(65);function he(e){return new Promise(function(a,t){setTimeout(function(){var n=Ee.find(function(a){return a.id===e});n?a(n):t(new Error("Company with id (".concat(e,") is not found")))},3e3)})}var ve=t(24),we=t.n(ve),Oe=t(47),je=t.n(Oe);var ye=function(e){var a=e.company;return r.a.createElement(we.a,{container:!0,spacing:40},r.a.createElement(we.a,{item:!0,xs:6},r.a.createElement(je.a,{autoFocus:!0,id:"name",label:"Name",defaultValue:a.name})))};var xe=function(e){var a=e.match,t=Object(n.useState)({company:null,isLoading:!0}),c=Object(p.a)(t,2),i=c[0],o=c[1],l=Number(a.params.id),s=i.company,d=i.isLoading,f=function(){var e=Object(m.a)(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(function(e){return Object(be.a)({},e,{isLoading:!0})}),e.prev=1,e.next=4,he(l);case 4:a=e.sent,o(function(e){return Object(be.a)({},e,{company:a})});case 6:return e.prev=6,o(function(e){return Object(be.a)({},e,{isLoading:!1})}),e.finish(6);case 9:case"end":return e.stop()}},e,null,[[1,,6,9]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){f()},[]);var E=r.a.createElement(F,{title:d?"Please wait...":s.name||void 0});return r.a.createElement(T,null,r.a.createElement(G,{appBar:E,isLoading:i.isLoading},!d&&s?r.a.createElement(ye,{company:s}):null))},ke=t(60),Le=t(21),Se=t(61),Ce=t(63),Ne=t(39),Pe=t(62),Re=t(64),Be=function(e){function a(e){return Object(Se.a)(this,a),Object(Ce.a)(this,Object(Ne.a)(a).call(this,'User "'.concat(e,"\" doesn't exist")))}return Object(Pe.a)(a,e),a}(Object(Re.a)(Error)),Ue=function(e){function a(){return Object(Se.a)(this,a),Object(Ce.a)(this,Object(Ne.a)(a).call(this,"Invalid password"))}return Object(Pe.a)(a,e),a}(Object(Re.a)(Error));var We=function(e){return new Promise(function(a,t){var n=e.login,r=e.password;"admin"===n?"admin"===r?(localStorage.setItem("isAuthenticated","true"),a()):t(new Ue):t(new Be(n))})},Ie=t(66),De=t(135),Te=t.n(De),Ae=function(e){return Boolean(e)?void 0:"Value is required"};function Fe(e){var a=e.className,t=e.onSubmit;return r.a.createElement(Ie.b,{onSubmit:t},function(e){var t=e.handleSubmit,n=e.submitError,c=e.submitting;return r.a.createElement(we.a,{alignContent:"center",className:a,component:"form",container:!0,onSubmit:t,spacing:40},n?r.a.createElement(we.a,{color:"error",component:O.a,item:!0,xs:12},n):null,r.a.createElement(we.a,{item:!0,xs:12},r.a.createElement(Ie.a,{name:"login",validate:Ae},function(e){var a=e.input,t=e.meta,n=t.error,c=t.touched,i=t.submitError;return r.a.createElement(je.a,Object.assign({},a,{autoFocus:!0,error:c&&Boolean(n||i),fullWidth:!0,helperText:c&&(n||i),placeholder:"Login"}))})),r.a.createElement(we.a,{item:!0,xs:12},r.a.createElement(Ie.a,{name:"password",validate:Ae},function(e){var a=e.input,t=e.meta,n=t.error,c=t.touched;return r.a.createElement(je.a,Object.assign({},a,{error:c&&Boolean(n),fullWidth:!0,helperText:c&&n,placeholder:"Password",type:"password"}))})),r.a.createElement(we.a,{item:!0,xs:12},r.a.createElement(Te.a,{color:"primary",disabled:c,fullWidth:!0,type:"submit",variant:"contained"},"Submit")))})}Fe.defaultProps={className:""};var Me=Fe;var qe=U()(function(e){return{root:{paddingTop:8*e.spacing.unit},form:{margin:"".concat(8*e.spacing.unit,"px auto"),maxWidth:"360px"}}})(function(e){var a=e.classes,t=e.history,n=function(){var e=Object(m.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We(a);case 3:t.replace({pathname:"/"}),e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof Be)){e.next=12;break}return e.abrupt("return",{login:e.t0.message});case 12:if(!(e.t0 instanceof Ue)){e.next=14;break}return e.abrupt("return",Object(ke.a)({},Le.a,"Incorrect credentials"));case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,6]])}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(M,{classes:{root:a.root}},r.a.createElement(O.a,{align:"center",paragraph:!1,variant:"title"},"Welcome"),r.a.createElement(O.a,{align:"center",color:"textSecondary"},"to"),r.a.createElement(O.a,{align:"center",color:"primary",variant:"headline"},"Logistics Risks Calculator"),r.a.createElement(Me,{className:a.form,onSubmit:n}))});var Ge=function(){return"true"===localStorage.getItem("isAuthenticated")};var ze=function(e){var a=e.children;return Ge()?a:r.a.createElement(l.a,{to:{pathname:"/login"}})};t(298);var Je=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:qe}),r.a.createElement(ze,null,r.a.createElement(l.b,{exact:!0,path:"/",component:ge}),r.a.createElement(l.b,{path:"/company/:id",component:xe})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[136,1,2]]]);
//# sourceMappingURL=main.92a41d11.chunk.js.map